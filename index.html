<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <div id='product-component-1664365740276'></div>
    <!-- <script type="text/javascript">
  
    (function () {
      var scriptURL = 'https://sdks.shopifycdn.com/buy-button/latest/buy-button-storefront.min.js';
      if (window.ShopifyBuy) {
        if (window.ShopifyBuy.UI) {
          ShopifyBuyInit();
        } else {
          loadScript();
        }
      } else {
        loadScript();
      }
      function loadScript() {
        var script = document.createElement('script');
        script.async = true;
        script.src = scriptURL;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(script);
        script.onload = ShopifyBuyInit;
      }
      function ShopifyBuyInit() {
        var client = ShopifyBuy.buildClient({
          domain: 'bonniebeauty-it.myshopify.com',
          storefrontAccessToken: '44e323afcda5338d505a3930e352cd32',
        });
        ShopifyBuy.UI.onReady(client).then(function (ui) {
          ui.createComponent('product', {
            id: '6115492364485',
            node: document.getElementById('product-component-1664365740276'),
            moneyFormat: '%E2%82%AC%7B%7Bamount_with_comma_separator%7D%7D',
            options: {
      "product": {
        "styles": {
          "product": {
            "@media (min-width: 601px)": {
              "max-width": "calc(25% - 20px)",
              "margin-left": "20px",
              "margin-bottom": "50px"
            }
          },
          "button": {
            ":hover": {
              "background-color": "#d5797e"
            },
            "background-color": "#ed868c",
            ":focus": {
              "background-color": "#d5797e"
            },
            "border-radius": "40px"
          }
        },
        "buttonDestination": "checkout",
        "contents": {
          "img": false,
          "title": false,
          "price": false
        },
        "text": {
          "button": "Buy now"
        }
      },
      "productSet": {
        "styles": {
          "products": {
            "@media (min-width: 601px)": {
              "margin-left": "-20px"
            }
          }
        }
      },
      "modalProduct": {
        "contents": {
          "img": false,
          "imgWithCarousel": true,
          "button": false,
          "buttonWithQuantity": true
        },
        "styles": {
          "product": {
            "@media (min-width: 601px)": {
              "max-width": "100%",
              "margin-left": "0px",
              "margin-bottom": "0px"
            }
          },
          "button": {
            ":hover": {
              "background-color": "#d5797e"
            },
            "background-color": "#ed868c",
            ":focus": {
              "background-color": "#d5797e"
            },
            "border-radius": "40px"
          }
        },
        "text": {
          "button": "Add to cart"
        }
      },
      "option": {},
      "cart": {
        "styles": {
          "button": {
            ":hover": {
              "background-color": "#d5797e"
            },
            "background-color": "#ed868c",
            ":focus": {
              "background-color": "#d5797e"
            },
            "border-radius": "40px"
          }
        },
        "text": {
          "total": "Subtotal",
          "button": "Checkout"
        }
      },
      "toggle": {
        "styles": {
          "toggle": {
            "background-color": "#ed868c",
            ":hover": {
              "background-color": "#d5797e"
            },
            ":focus": {
              "background-color": "#d5797e"
            }
          }
        }
      }
    },
          });
        });
      }
    })();
 
    </script> -->



    <div id="user-details">
        <h1 id="nameUser">Marco Martini</h1>
    </div>

    <div id="seller-details">
        <h1 id="nameSeller">Federico Vitullo</h1>
    </div>

    <div>
        <h2>Item</h2>
        <h4>item description ..</h4>
        <p id="price">200</p>
        <button onclick="elaboraPagamento()">Buy</button>
    </div>

    <button id="test" onclick="showModalPopUp()">
        payment method
    </button>


    <div id="myModal">

    </div>

    <script>
        var button = document.querySelector('button');
        var dialog = document.querySelector('#myModal'); //SELLECT YOUR DIALOG OR MODAL
        var test = document.querySelector('#test');//SELECT YOUR BUTTON
        var price = 0;
        var idUser = 0; //idOrdine
        var idSeller = 0;

        if (this.price === 0) {
            test.disabled = true;
        }

        function elaboraPagamento() {

            this.price = Number(document.getElementById('price').innerText);
            this.idUser = document.getElementById('nameUser').innerText;
            this.idSeller = document.getElementById('nameSeller').innerText;

            console.log(price)
            console.log(idUser)
            console.log(idSeller)

            if (this.price === 0) {
                test.disabled = true;
            } else {
                test.disabled = false
            }

            // idUser = document.getElementById()
        }

        function showModalPopUp() {
            elaboraPagamento()
            // const win = window.open('about:blank', '_blank');
            // win.document.write('<h1>test</h1>');
            // win.focus();
            var popUpObj;
            var x = 'ciao'
            var youTube = 'https://www.youtube.com/'
            console.log('ok')
            popUpObj = window.open(
                '_blank',
                "ModalPopUp",
                "toolbar=no," +
                "scrollbars=no," +
                "location=no," +
                "statusbar=no," +
                "menubar=no," +
                "resizable=0," +
                "width=600," +
                "height=500," +
                // "left = 470," +
                "top=200"
            );

            const infoWindowContent = '<div id="content">' + '<p  class="m-10 m-b-5 font-18">' + 'Societ√†: ' + idSeller + '</p' + '<br>' + '<p class="m-10 m-t-10 m-b-5  font-18">Acquirente:  ' + idUser + '</p>' + '<p class="m-10 font-18">Prezzo:  ' + price + '</p>';
            popUpObj.document.write(infoWindowContent);

            popUpObj.focus();

        }


    </script>

</body>

</html>